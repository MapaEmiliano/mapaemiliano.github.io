<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <canvas id=c></canvas><br>
  <button id=bstart>Start</button> <button id=bstop>Stop</button>

</body>

<script>


  var ctx = c.getContext("2d"), bg = 0, db = 0.01;
  
  // BlinkText objects which will hold appearance and timings
  function BlinkText(txt, x, y, interval) {
    this.text = txt;
    this.x = x;
    this.y = y;
    this.interval = interval;
    this.font = "bold 20px sans-serif";
    this.color = "#f00";
    this.active = false;
    this.time = 0;
    this.toggle = true;
  }
  
  // If several instances is to be defined, use prototypal approach
  BlinkText.prototype = {
    start: function(time) {
      this.time = time;        // store start time to calc. delta
      this.active = true;      // enable drawing in render()
      this.toggle = true;      // reset toggle flag so first check is "on"
    },
    
    stop: function() {
      this.active = false;     // disable drawing in render()
    },
    
    render: function(ctx) {    // render if active
      if (this.active) {
        if (this.toggle) {     // are we on nor off?
          ctx.font = this.font;
          ctx.fillStyle = this.color;
          ctx.fillText(this.text, this.x, this.y); // render text if on
        }
        
        // calc time interval and toggle every other time
        var time = performance.now();
        if (time - this.time >= this.interval) {   // passed interval?
          this.time = time;                        // update start time
          this.toggle = !this.toggle;              // toggle state
        }
      }
    }
  
  };
  
  // create a couple of instances
  var txt1 = new BlinkText("Hello there..", 50, 50, 500);
  var txt2 = new BlinkText("This is blinking too", 100, 90, 900);
  var txt3 = new BlinkText("All independant, but controlable...", 10, 120, 300);
  txt2.color = "#00f";             // set some custom properties
  txt3.font = "16px sans-serif";
  txt3.color = "#090";
  
  function loop() {
    // draw other stuff
    ctx.fillStyle = "hsl(0,0%, " + (bg * 40) + "%)";
    ctx.fillRect(0, 0, c.width, c.height);
    txt1.render(ctx);    // call render() regardless of state
    txt2.render(ctx);
    txt3.render(ctx);
  
    bg += db;
    if (bg <0 || bg > 1) db = -db;
    requestAnimationFrame(loop)
  };
  
  loop();
  
  bstart.onclick = function() {
    txt1.start(performance.now());  // init start with current time
    txt2.start(performance.now());
    txt3.start(performance.now());
  };
  
  bstop.onclick = function() {
    txt1.stop();
    txt2.stop();
    txt3.stop();
  };
  
  
//backup


var pinAnim;

if(pinAnim) {
  clearInterval(pinAnim);
}

checkElement('.focus').then((focusObj) => { 

  
  
  

  function updateLoop() {

    if(pin.style.opacity == 0){

      pin.style.opacity = 1;
      pin.style.transition = "ease-in-out .5s";

    } else {

      pin.style.opacity = 0;

    }
  }

  pinAnim = setInterval(updateLoop, 500);


    </script>

</html>